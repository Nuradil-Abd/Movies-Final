


<!--<!DOCTYPE html>-->
<!--<html lang="ru">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Выбор билета</title>-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">-->
<!--</head>-->
<!--<body>-->
<!--<div class="container mt-5">-->
<!--    <h2>Выберите билет для сеанса</h2>-->
<!--    <p>Ниже отображены доступные билеты для выбранного сеанса.</p>-->
<!--    <div class="container mt-3">-->
<!--        <div th:if="${message}" class="alert alert-info" role="alert">-->
<!--            <p th:text="${message}"></p>-->
<!--        </div>-->
<!--        <div>-->
<!--            <p>Цена билета для выбранного сеанса: <span th:text="${showTimePrice}"></span> руб.</p>-->
<!--            <p>Ваш баланс на карте: <span th:text="${currentBalance}"></span> руб.</p>-->
<!--        </div>-->
<!--    </div>-->
<!--    <table class="table">-->


<!--        <form th:action="@{/tickets/purchaseTickets}" method="post">-->
<!--            <table class="table">-->
<!--                <thead>-->
<!--                <tr>-->
<!--                    <th>Выбрать</th>-->
<!--                    <th>Место</th>-->
<!--                    <th>Статус</th>-->
<!--                </tr>-->
<!--                </thead>-->
<!--                <tbody>-->
<!--                <tr th:each="ticket : ${availableTickets}">-->
<!--                    <td>-->
<!--                        <input type="checkbox" name="ticketIds" th:value="${ticket.id}" th:disabled="${ticket.isPurchased}">-->
<!--                    </td>-->
<!--                    <td th:text="${ticket.seatNumber}"></td>-->
<!--                    <td th:text="${ticket.isPurchased ? 'Занято' : 'Доступно'}"></td>-->
<!--                </tr>-->
<!--                </tbody>-->
<!--            </table>-->
<!--            <button type="submit" class="btn btn-success mt-3">Купить выбранные места</button>-->
<!--        </form>-->
<!--    </table>-->

<!--</div>-->


<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>-->
<!--</body>-->
<!--</html>-->


<!--<!DOCTYPE html>-->
<!--<html lang="ru">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Схема зала</title>-->
<!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">-->
<!--    <style>-->
<!--        .seat {-->
<!--            width: 30px;-->
<!--            height: 30px;-->
<!--            text-align: center;-->
<!--            line-height: 30px;-->
<!--            border: 1px solid #ccc;-->
<!--            margin: 2px;-->
<!--            cursor: pointer;-->
<!--        }-->
<!--        .seat.available {-->
<!--            background-color: #5cb85c; /* Зелёный */-->
<!--        }-->
<!--        .seat.taken {-->
<!--            background-color: #d9534f; /* Красный */-->
<!--            cursor: not-allowed;-->
<!--        }-->
<!--        .seat:hover:not(.taken) {-->
<!--            background-color: #4cae4c;-->
<!--        }-->
<!--        .row {-->
<!--            display: flex;-->
<!--            justify-content: center;-->
<!--            margin-bottom: 10px;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<div class="container mt-5">-->
<!--    <h2>Схема зала</h2>-->
<!--    <p>Выберите места. Занятые места отмечены красным, доступные — зелёным.</p>-->
<!--    <form th:action="@{/tickets/purchaseTickets}" method="post">-->
<!--        <div th:each="rowEntry : ${ticketsByRow}">-->
<!--            <div class="row">-->
<!--                <span>Ряд <span th:text="${rowEntry.key}"></span>:</span>-->
<!--                <div th:each="ticket : ${rowEntry.value}" class="seat"-->
<!--                     th:classappend="${ticket.isPurchased ? 'taken' : 'available'}">-->
<!--                    <label>-->
<!--                        <input type="checkbox" name="ticketIds" th:value="${ticket.id}" th:disabled="${ticket.isPurchased}" style="display: none;">-->
<!--                        <span th:text="${ticket.seatNumber}"></span>-->
<!--                    </label>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--        <button type="submit" class="btn btn-success mt-3">Купить выбранные места</button>-->
<!--    </form>-->
<!--</div>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Схема зала</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <style>
        .seat {
            width: 30px;
            height: 30px;
            text-align: center;
            line-height: 30px;
            border: 1px solid #ccc;
            margin: 2px;
            cursor: pointer;
        }
        .seat.available {
            background-color: #5cb85c; /* Зелёный */
        }
        .seat.taken {
            background-color: #d9534f; /* Красный */
            cursor: not-allowed;
        }
        .seat.selected {
            background-color: #0275d8; /* Синий */
        }
        .seat:hover:not(.taken) {
            background-color: #4cae4c;
        }
        .row {
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<div class="container mt-5">
    <h2>Схема зала</h2>
    <p>Выберите места. Занятые места отмечены красным, доступные — зелёным. Выбранные вами места будут отмечены синим.</p>
    <form th:action="@{/tickets/purchaseTickets}" method="post">
        <div th:each="rowEntry : ${ticketsByRow}">
            <div class="row">
                <span>Ряд <span th:text="${rowEntry.key}"></span>:</span>
                <div th:each="ticket : ${rowEntry.value}" class="seat"
                     th:classappend="${ticket.isPurchased ? 'taken' : 'available'}">
                    <label>
                        <input type="checkbox" name="ticketIds" th:value="${ticket.id}" th:disabled="${ticket.isPurchased}" style="display: none;">
                        <span th:text="${ticket.seatNumber}"></span>
                    </label>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-success mt-3">Купить выбранные места</button>
    </form>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const seats = document.querySelectorAll('.seat input[type="checkbox"]');

        seats.forEach(seat => {
            seat.addEventListener('change', (event) => {
                const seatDiv = event.target.closest('.seat');
                if (event.target.checked) {
                    seatDiv.classList.add('selected'); // Добавить синий цвет
                } else {
                    seatDiv.classList.remove('selected'); // Убрать синий цвет
                }
            });
        });
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>